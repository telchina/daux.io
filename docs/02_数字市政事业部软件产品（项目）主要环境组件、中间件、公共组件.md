# 数字市政事业部软件产品（项目）主要环境组件、中间件、公共组件

## 范围



## 运行环境组件

### 服务端运行环境

服务端运行环境包括操作系统、Java运行时、Web应用容器以及数据库操作系统共四部分软件环境的规范

#### 操作系统

数字市政产品服务端运行操作系统依照客户要求可分为Windows和Linux两种操作系统。具体各操作系统的发行版本要求如下：

* **Windows：** Microsoft Windows Server 2008（x64）及其后续Server x64版本
* **Linux：** Ubuntu Server 12.04 LTS（x86-64）及其后续LTS版本、Redhat Enterprise Linux 6（x86-64）及其后续版本

#### Java运行时

数字市政产品中基于Java开发的软件产品应能够在Java 6及其后续版本中运行。新立项产品所使用JDK版本不得小于Java 6。推荐采用Java 7及其后续版本，以保障其安全性。

#### Web应用容器

对于用户明确要求的数字市政产品或项目，应能够正常部署并运行于指定版本的`Weblogic`中。

对于用户没用明确要求的数字市政产品或项目，应能够正常部署并运行在`Apache Tomcat 7.0.50`及其后续版本中。

### 客户端运行环境

客户端运行环境包括桌面操作系统、Web浏览器以及移动设备操作系统

#### 桌面操作系统

面向桌面用户开发的产品或项目应能够运行在Windows XP及其后续版本的Microsoft Windows操作系统中。

#### Web浏览器

数字市政产品及项目中Web应用应采用**现代浏览器**通用标准API开发。对于不符合或不完全符合W3C规范的Microsoft InternetExplorer 6~10浏览器，可在部署阶段使用Google ChromeFrame ActivieX控件进行兼容性支持。

各项目至少选择下面浏览器中的两个予以支持：

* Microsoft InternetExplorer 8及其后续版本
* Google Chrome 32及其后续版本
* Mozilla Firefox 27及其后续版本
* Apple Safari 7及其后续版本

#### 移动设备

面向客户端的移动设备终端主要包括智能手机和平板电脑。主要支持的移动设备操作系统为Google Android。数字市政的主要移动产品或项目应能够运行在Google Android 4.0及其后续版本的操作系统中。

> **注意：** 产品在开发期应使用Google官方Android SDK。对于个别项目中采购移动设备中使用Android分支版本的API与官方SDK有出入的情况，在在项目开发期内可以根据具体情况进行代码上的微调。

## 第三方中间件

### 依赖注入框架

数字市政产品及项目中使用的依赖注入框架为Spring Framework，最低版本为3.2.9。

### 数据持久化框架

数字市政产品及项目中使用的数据持久化分为两种：面向SQL编程的MyBatis和兼容JPA标准的ORM框架Hibernate。

MyBatis的最低可用版本为3.2.1，Hibernate为4.0。

### 服务框架

数字市政产品及项目中使用的服务框架为基于Spring MVC的RESTful服务发布框架，最低版本为3.2.9。

### 工作流引擎

数字市政产品及项目中使用的工作流引擎为Activiti，最低版本为5.14。

## 公共组件

在数字市政软件产品或项目开发中暂定规划下列公共组件：

#### ArcGIS API for JavaScript

面向单个服务或系统群项目的ArcGIS API for Javascript自宿主应用服务。在官方API基础上与Tomcat打包形成能够自识别所部属环境的API服务组件。

#### 统一用户登录

采用基于CAS开发的多系统单点登录服务组件。

#### 统一用户权限

面向数字市政各产品或项目提供的访问权限控制、管理和校验服务组件。

#### 多媒体文件服务器

面向一个或多个软件产品（项目）的图片、音频、视频资料管理服务组件。能够提供文件上传、下载、流媒体播放以及缩略图生成等功能。

#### Microsoft Office文档服务器

面向一个或多个软件产品（项目）的Microsoft Office文档存取及在线预览服务组件。

#### 短信收发服务器

设计实现短信发送、用户恢复短信指令处理及短信模板定义等功能。

#### GPS专业设备采集

用于采集GPS专业采集设备所上报数据的公共服务组件。

#### 日志管理

提供主动式的日志记录API和被动式AOP切面日志记录功能的公共组件。用于系统及业务常规日志记录。底层采用SLF4J API和Log4J实现。

#### 报表引擎

推荐组合使用JasperReports、iReport两款报表工具。

#### Web工作流设计器

基于jsPlumb绘图引擎自主研发的可以运行于桌面和平板设备上的工作流展示、设计工具。主要针对Activiti所兼容的BPMN2.0标准工作流定义。

#### 前端推送

主动消息推送相关的公共组件群。包括面向Android的MQTT消息组件，面向HTML的WebSocket消息组件和面向Flex的AMF消息组件。

#### 消息中心

用于在Web前端统一展示管理服务端推送的业务消息的前端复用组件。

#### 工作日历

用于管理业务系统中工作日历的服务端公共组件和前端管理所需的控件组件。
