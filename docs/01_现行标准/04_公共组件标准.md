### 组件设计

任何市政产品或项目开发相关人员可以提请要求提供新的公共组件。架构师小组在确认当前公共组件库不满足需求的情况下可以邀请各个产品经理、开发经理共同讨论新增公共组件。讨论通过并明确需求后由架构师小组进行公共组件设计，并提交需求设计、概要设计、详细设计等文档。在组织产品经理、开发经理共同评审设计通过后，协商具体的项目组合作开发相关公共组件。

### 组件开发规范

公共组件开发需按照架构师小组提供的设计文档严格执行。如遇到设计问题应及时雨架构师小组协商后修改设计方案。所开发代码必须遵守公司相关的开发规范。开发结束并测试通过后需要将公共组件源码、发布包、使用文档一同提交至架构师小组审查后共享至Maven代理仓库。

公共组件的维护工作不一定由原开发小组承担。后续随着新的组件功能需求提出，架构师小组可酌情与其他开发组合作维护之前的公共组件。具体的二次开发流程参考公共组件一次开发流程执行。

### 组件使用规范

数字市政软件产品或项目开发鼓励复用公共组件。对于公共组件中已有且功能基本满足（少量修改或新增功能可满足需求）的模块务必使用公共组件。

### 常规组件

在数字市政软件产品或项目开发中暂定规划下列公共组件：

#### ArcGIS API for JavaScript

面向单个服务或系统群项目的ArcGIS API for Javascript自宿主应用服务。在官方API基础上与Tomcat打包形成能够自识别所部属环境的API服务组件。

#### 统一用户登录

采用基于CAS开发的多系统单点登录服务组件。

#### 统一用户权限

面向数字市政各产品或项目提供的访问权限控制、管理和校验服务组件。

#### 多媒体文件服务器

面向一个或多个软件产品（项目）的图片、音频、视频资料管理服务组件。能够提供文件上传、下载、流媒体播放以及缩略图生成等功能。

#### Microsoft Office文档服务器

面向一个或多个软件产品（项目）的Microsoft Office文档存取及在线预览服务组件。

#### 短信收发服务器

设计实现短信发送、用户恢复短信指令处理及短信模板定义等功能。

#### GPS专业设备采集

用于采集GPS专业采集设备所上报数据的公共服务组件。

#### 日志管理

提供主动式的日志记录API和被动式AOP切面日志记录功能的公共组件。用于系统及业务常规日志记录。底层采用SLF4J API和Log4J实现。

#### 报表引擎

推荐组合使用JasperReports、iReport两款报表工具。

#### Web工作流设计器

基于jsPlumb绘图引擎自主研发的可以运行于桌面和平板设备上的工作流展示、设计工具。主要针对Activiti所兼容的BPMN2.0标准工作流定义。

#### 前端推送

主动消息推送相关的公共组件群。包括面向Android的MQTT消息组件，面向HTML的WebSocket消息组件和面向Flex的AMF消息组件。

#### 消息中心

用于在Web前端统一展示管理服务端推送的业务消息的前端复用组件。

#### 工作日历

用于管理业务系统中工作日历的服务端公共组件和前端管理所需的控件组件。

